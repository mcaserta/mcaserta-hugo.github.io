<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="Mirko Caserta "><meta name=description content="Since the latest twitter issues due to Space Karen, I got myself a Mastodon account and I must say that, so far, the experience has been extremely positive, possibly due to the fact that most of the people I follow are well behaved nerds who care about sharing good vibes. If you also feel like joining, please take a look at Join Mastodon and see for yourself.
Anyway, I found myself pretty soon in the need to automate my posts."><meta name=keywords content=",mastodon,software development"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://mirkocaserta.com/posts/2022/12/posting-to-mastodon/><title>ðŸ‡ºðŸ‡¸ Posting to Mastodon :: Mirko Caserta â€” Senior Developer</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=https://mirkocaserta.com/main.4e5c639214707eff609bb55fe49e183dee42258a73bc90e4cc7b0a84f900798a.css><link rel=apple-touch-icon sizes=180x180 href=https://mirkocaserta.com/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://mirkocaserta.com/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://mirkocaserta.com/favicon-16x16.png><link rel=manifest href=https://mirkocaserta.com/site.webmanifest><link rel=mask-icon href=https://mirkocaserta.com/safari-pinned-tab.svg color><link rel="shortcut icon" href=https://mirkocaserta.com/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="ðŸ‡ºðŸ‡¸ Posting to Mastodon"><meta itemprop=description content="Since the latest twitter issues due to Space Karen, I got myself a Mastodon account and I must say that, so far, the experience has been extremely positive, possibly due to the fact that most of the people I follow are well behaved nerds who care about sharing good vibes. If you also feel like joining, please take a look at Join Mastodon and see for yourself.
Anyway, I found myself pretty soon in the need to automate my posts."><meta itemprop=datePublished content="2022-12-26T00:00:00+00:00"><meta itemprop=dateModified content="2022-12-26T00:00:00+00:00"><meta itemprop=wordCount content="312"><meta itemprop=image content="https://mirkocaserta.com"><meta itemprop=keywords content="mastodon,software development,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://mirkocaserta.com"><meta name=twitter:title content="ðŸ‡ºðŸ‡¸ Posting to Mastodon"><meta name=twitter:description content="Since the latest twitter issues due to Space Karen, I got myself a Mastodon account and I must say that, so far, the experience has been extremely positive, possibly due to the fact that most of the people I follow are well behaved nerds who care about sharing good vibes. If you also feel like joining, please take a look at Join Mastodon and see for yourself.
Anyway, I found myself pretty soon in the need to automate my posts."><meta property="article:section" content="software development"><meta property="article:published_time" content="2022-12-26 00:00:00 +0000 UTC"></head><body><div class=container><header class=header><span class=header__inner><a href=https://mirkocaserta.com/ style=text-decoration:none><div class=logo><span class=logo__mark>$</span>
<span class=logo__text>cd ~mcaserta</span>
<span class=logo__cursor style=background-color:#38af40></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=https://mirkocaserta.com/about/>About</a></li><li><a href=https://mirkocaserta.com/cv/>CV</a></li><li><a href=https://mirkocaserta.com/posts/>Posts</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://mirkocaserta.com/posts/2022/12/posting-to-mastodon/>ðŸ‡ºðŸ‡¸ Posting to Mastodon</a></h2><div class=post-content><p>Since the latest twitter issues due to
<a href=https://knowyourmeme.com/memes/space-karen>Space Karen</a>, I got myself a
<a href=https://mastodon.online/@mcaserta>Mastodon account</a> and I must say that, so
far, the experience has been extremely positive, possibly due to the fact that
most of the people I follow are well behaved nerds who care about sharing good
vibes. If you also feel like joining, please take a look at
<a href=https://joinmastodon.org/>Join Mastodon</a> and see for yourself.</p><p>Anyway, I found myself pretty soon in the need to automate my posts. I have a
<a href=https://t.me/mirkolovesmusic>telegram channel</a> where I post music I like and I
wanted to automate cross posting from there to my Mastodon account and I did it
with <a href=https://ifttt.com>IFTTT</a> using a WebHook component for Mastodon.</p><p>For now, I just want to document how easy it is to post to Mastodon. All you
need is an http client. I&rsquo;ll be using <a href=https://curl.se/>curl</a> in my examples
but you can of course use anything you see fit.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl --request POST  <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --header <span style=color:#e6db74>&#39;Authorization: Bearer your-auth-token-here&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --form <span style=color:#e6db74>&#39;status=&#34;The Crusaders: \&#34;And Then There Was The Blues\&#34; https://youtu.be/F-EAazr0j78 #music&#34;&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  https://mastodon.online/api/v1/statuses
</span></span></code></pre></div><p>This is the general form of the request. In other words, we&rsquo;re making an http
POST request where the body is the equivalent of submitting an html form with a
<code>status</code> field whose value is the actual text we want posted on our timeline.
Just be careful with the quoting going on inside the <code>status</code> field.</p><p>As for the authorization header, you need to get an authentication token from
your Mastodon server instance. In my server, it&rsquo;s under Preferences ->
Development. I just have to select <em>New Application</em>, fill a little info about
my app, select only <code>write:statuses</code> as the permissions I&rsquo;m granting and, once
created, the token will be visible in the app info under <em>Your access token</em>.</p><p>You will also need to replace <code>mastodon.online</code> with your server&rsquo;s hostname.</p><p>This is it. You&rsquo;re welcome.</p></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://mirkocaserta.com/tags/mastodon/>mastodon</a></span>
<span class=tag><a href=https://mirkocaserta.com/tags/software-development/>software development</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg><span class=tag><a href=https://mirkocaserta.com/categories/software-development/>software development</a></span></p></div></main></div><footer class=footer></footer></div><script type=text/javascript src=https://mirkocaserta.com/bundle.min.bb2c6bc3ed452ca4759660e4020811f248bc2320081559e8a32d8b0092773852941133639d35e8370d03d3ddaa750b1edd6b343c5bd22a55d5bdeae8f648f49b.js integrity="sha512-uyxrw+1FLKR1lmDkAggR8ki8IyAIFVnooy2LAJJ3OFKUETNjnTXoNw0D092qdQse3Ws0PFvSKlXVvero9kj0mw=="></script></body></html>